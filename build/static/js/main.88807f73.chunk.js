(this["webpackJsonpopenvidu-call-react"]=this["webpackJsonpopenvidu-call-react"]||[]).push([[0],{113:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},143:function(e,t,a){},179:function(e,t,a){e.exports=a(269)},185:function(e,t,a){},186:function(e,t,a){},188:function(e,t,a){},245:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},254:function(e,t){},255:function(e,t){},256:function(e,t){},269:function(e,t,a){"use strict";a.r(t),a.d(t,"persistor",(function(){return tt}));var n=a(0),s=a.n(n),i=a(22),r=a.n(i),o=(a(185),a(186),a(18)),c=a(6),l=a(5),u=a.n(l),m=a(13),d=a(12);a(113);var h=function(e){return s.a.createElement("div",{className:"trans-box"},s.a.createElement(o.b,{to:"/"},s.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},s.a.createElement("button",{className:"main-btn"},"Main"))))},g=(a(188),a(53)),p=a(78),v={userId:"",userPass:"",userName:"",userEmail:"",userIsActive:!1},f=Object(p.b)({name:"user",initialState:{value:v},reducers:{login:function(e,t){e.value=t.payload},logout:function(e){e.value=v}}}),b=f.actions,E=b.login,y=b.logout,S=(f.reducer,a(50)),k=a.n(S);var C=function(e){var t=Object(c.m)(),a=Object(n.useState)(""),i=Object(d.a)(a,2),r=i[0],l=i[1],p=Object(n.useState)(""),v=Object(d.a)(p,2),f=v[0],b=v[1],y=Object(g.b)(),S=Object(n.useRef)(),C=Object(n.useRef)(),N=function(){var e=Object(m.a)(u.a.mark((function e(a){var n,s,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("axios \uc694\uccad\ubcf4\ub0b4\uae30"),a.preventDefault(),e.prev=2,e.next=5,k.a.post("http://localhost:8090/api/v1/users/login",JSON.stringify({userName:S.current.value,password:C.current.value}),{headers:{header1:"header1","Content-Type":"application/json"},withCredentials:!1});case 5:n=e.sent,console.log(n),s=n.data.name,i=n.data.email,o=n.data.is_active,console.log(s),y(E({userId:{id:r},userPass:{pass:f},userName:{username:s},userEmail:{useremail:i},userIsActive:{userisactive:o}})),t("/profile"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0),t("/login");case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"bg"},s.a.createElement("div",{className:"login-top-items"},s.a.createElement(h,null)),s.a.createElement("div",{className:"login-bg"},s.a.createElement("div",{className:"login-form-container"},s.a.createElement("div",{className:"login-title"},"\uc218\uc5b4\uac00\uc911\uacc4"),s.a.createElement("form",{className:"login-form",onSubmit:N},s.a.createElement("label",{htmlFor:"id"},"\uc544\uc774\ub514"),s.a.createElement("input",{ref:S,className:"login-input-item",value:r,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"}),s.a.createElement("label",{htmlFor:"password"},"\ube44\ubc00\ubc88\ud638"),s.a.createElement("input",{ref:C,className:"login-input-item",value:f,onChange:function(e){return b(e.target.value)},type:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"}),s.a.createElement("button",{className:"login-btn",type:"submit"},"\ub85c\uadf8\uc778")),s.a.createElement(o.b,{to:"/FindId"},s.a.createElement("button",{className:"movePage"},"\uc544\uc774\ub514/\ube44\ubc00\ubc88\ud638 \ucc3e\uae30")))))};a(122);var N=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),i=a[0],r=a[1],c=Object(n.useState)(""),l=Object(d.a)(c,2),u=l[0],m=l[1];return s.a.createElement("div",{className:"bg"},s.a.createElement("div",{className:"btn-bg"},s.a.createElement(h,null)),s.a.createElement("div",{className:"id-bg"},s.a.createElement("div",{className:"id-form-container"},s.a.createElement("div",{className:"id-title"},"\uc544\uc774\ub514 \xba \ube44\ubc00\ubc88\ud638 \ucc3e\uae30"),s.a.createElement("div",null,s.a.createElement(o.b,{to:"/findId"},s.a.createElement("button",{onClick:function(){return e.onFormSwitch("id")},className:"find-id-btn"},"\uc544\uc774\ub514 \ucc3e\uae30")),s.a.createElement(o.b,{to:"/findPass"},s.a.createElement("button",{onClick:function(){return e.onFormSwitch("pass")},className:"find-pass-btn"},"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"))),s.a.createElement("form",{className:"id-form",onSubmit:function(e){e.preventDefault(),console.log(i)}},s.a.createElement("label",{htmlFor:"id"},"\uc544\uc774\ub514\ucc3e\uae30"),s.a.createElement("input",{className:"find-input",value:i,onChange:function(e){return r(e.target.value)},type:"text",placeholder:"\uc774\ub984"}),s.a.createElement("br",null),s.a.createElement("input",{className:"find-input",value:u,onChange:function(e){return m(e.target.value)},type:"text",placeholder:"\uacc4\uc815"}),s.a.createElement("button",{className:"check-btn",type:"submit"},"\ud655\uc778")),s.a.createElement("button",{onClick:function(){return e.onFormSwitch("login")},className:"movePage"},"\ub85c\uadf8\uc778 \ud558\uae30"))))};var O=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),i=a[0],r=a[1],c=Object(n.useState)(""),l=Object(d.a)(c,2),u=l[0],m=l[1];return s.a.createElement("div",{className:"bg"},s.a.createElement("div",{className:"btn-bg"},s.a.createElement(h,null)),s.a.createElement("div",{className:"pass-bg"},s.a.createElement("div",{className:"pass-form-container"},s.a.createElement("div",{className:"pass-title"},"\uc544\uc774\ub514 \xba \ube44\ubc00\ubc88\ud638 \ucc3e\uae30"),s.a.createElement("div",null,s.a.createElement(o.b,{to:"/findId"},s.a.createElement("button",{onClick:function(){return e.onFormSwitch("id")},className:"find-id-btn"},"\uc544\uc774\ub514 \ucc3e\uae30")),s.a.createElement(o.b,{to:"/findPass"},s.a.createElement("button",{onClick:function(){return e.onFormSwitch("pass")},className:"find-pass-btn"},"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"))),s.a.createElement("form",{className:"pass-form",onSubmit:function(e){e.preventDefault(),console.log(i)}},s.a.createElement("label",{htmlFor:"pass"},"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"),s.a.createElement("input",{className:"find-input",value:i,onChange:function(e){return r(e.target.value)},type:"text",placeholder:"\uc774\ub984"}),s.a.createElement("br",null),s.a.createElement("input",{className:"find-input",value:u,onChange:function(e){return m(e.target.value)},type:"text",placeholder:"\uc544\uc774\ub514"}),s.a.createElement("button",{className:"check-btn",type:"submit"},"\ud655\uc778")),s.a.createElement(o.b,{to:"/login"},s.a.createElement("button",{className:"movePage"},"\ub85c\uadf8\uc778 \ud558\uae30")))))};a(123);var w=function(e){return s.a.createElement("div",{className:"trans-box"},s.a.createElement(o.b,{to:"/login"},s.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},s.a.createElement("button",{className:"trans-btn"},"\ud1b5\uc5ed\uc0ac"))))};var x=function(e){return s.a.createElement("div",{className:"title-box"},s.a.createElement(w,null),s.a.createElement("div",{className:"title-header"},"\uc218\uc5b4\uac00\uc911\uacc4"))},j=a(107);var R=function(e){return s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"video-box"},s.a.createElement("div",{className:"video"},s.a.createElement(j.a,{restartOnPaused:!0,videoSrc:[{src:"/VideoSrc/v1.webm",type:"video/webm"},{src:"video.mp4",type:"video/mp4"}]}),s.a.createElement(o.b,{to:"/cam",state:{test:!1}},s.a.createElement("button",{className:"matching-btn",type:"submit"},"\ud1b5\uc5ed\uc0ac\ub9e4\uce6d\uc11c\ube44\uc2a4"))),s.a.createElement("div",{className:"video"},s.a.createElement(j.a,{restartOnPaused:!0,videoSrc:[{src:"/VideoSrc/v2.webm",type:"video/webm"},{src:"video.mp4",type:"video/mp4"}]}),s.a.createElement(o.b,{to:"/aiTranslate"},s.a.createElement("button",{className:"matching-btn",type:"submit"},"AI\ud1b5\uc5ed\uc11c\ube44\uc2a4")))))};var A=function(e){return s.a.createElement("div",null,s.a.createElement(x,null),s.a.createElement(R,null))},I=a(8),F=a(10),M=a(9),T=a(14),U=a(15),D=a(79),V=a(311),L=a(313),_=a(82),B=a.n(_),P=a(159),z=a.n(P),W=(a(245),a(316)),H=function(e){Object(T.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).state={messageList:[],message:""},n.chatScroll=s.a.createRef(),n.handleChange=n.handleChange.bind(Object(M.a)(n)),n.handlePressKey=n.handlePressKey.bind(Object(M.a)(n)),n.close=n.close.bind(Object(M.a)(n)),n.sendMessage=n.sendMessage.bind(Object(M.a)(n)),n}return Object(F.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.user.getStreamManager().stream.session.on("signal:chat",(function(t){var a=JSON.parse(t.data),n=e.state.messageList;n.push({connectionId:t.from.connectionId,nickname:a.nickname,message:a.message});var s=window.document;setTimeout((function(){var t=s.getElementById("userImg-"+(e.state.messageList.length-1)),n=s.getElementById("video-"+a.streamId);t.getContext("2d").drawImage(n,200,120,285,285,0,0,60,60),e.props.messageReceived()}),50),e.setState({messageList:n}),e.scrollToBottom()}))}},{key:"handleChange",value:function(e){this.setState({message:e.target.value})}},{key:"handlePressKey",value:function(e){"Enter"===e.key&&this.sendMessage()}},{key:"sendMessage",value:function(){if(console.log(this.state.message),this.props.user&&this.state.message){var e=this.state.message.replace(/ +(?= )/g,"");if(""!==e&&" "!==e){var t={message:e,nickname:this.props.user.getNickname(),streamId:this.props.user.getStreamManager().stream.streamId};this.props.user.getStreamManager().stream.session.signal({data:JSON.stringify(t),type:"chat"})}}this.setState({message:""})}},{key:"scrollToBottom",value:function(){var e=this;setTimeout((function(){try{e.chatScroll.current.scrollTop=e.chatScroll.current.scrollHeight}catch(t){}}),20)}},{key:"close",value:function(){this.props.close(void 0)}},{key:"render",value:function(){var e=this,t={display:this.props.chatDisplay};return s.a.createElement("div",{id:"chatContainer"},s.a.createElement("div",{id:"chatComponent",style:t},s.a.createElement("div",{id:"chatToolbar"},s.a.createElement("span",null,this.props.user.getStreamManager().stream.session.sessionId," - CHAT"),s.a.createElement(V.a,{id:"closeButton",onClick:this.close},s.a.createElement(B.a,{color:"secondary"}))),s.a.createElement("div",{className:"message-wrap",ref:this.chatScroll},this.state.messageList.map((function(t,a){return s.a.createElement("div",{key:a,id:"remoteUsers",className:"message"+(t.connectionId!==e.props.user.getConnectionId()?" left":" right")},s.a.createElement("canvas",{id:"userImg-"+a,width:"60",height:"60",className:"user-img"}),s.a.createElement("div",{className:"msg-detail"},s.a.createElement("div",{className:"msg-info"},s.a.createElement("p",null," ",t.nickname)),s.a.createElement("div",{className:"msg-content"},s.a.createElement("span",{className:"triangle"}),s.a.createElement("p",{className:"text"},t.message))))}))),s.a.createElement("div",{id:"messageInput"},s.a.createElement("input",{placeholder:"Send a messge",id:"chatInput",value:this.state.message,onChange:this.handleChange,onKeyPress:this.handlePressKey}),s.a.createElement(W.a,{title:"Send message"},s.a.createElement(L.a,{size:"small",id:"sendButton",onClick:this.sendMessage},s.a.createElement(z.a,null))))))}}]),a}(n.Component),q=(a(143),function(e){Object(T.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).videoRef=s.a.createRef(),n}return Object(F.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props&&this.props.user.streamManager&&this.videoRef&&(console.log("PROPS: ",this.props),this.props.user.getStreamManager().addVideoElement(this.videoRef.current)),this.props&&this.props.user.streamManager.session&&this.props.user&&this.videoRef&&this.props.user.streamManager.session.on("signal:userChanged",(function(t){void 0!==JSON.parse(t.data).isScreenShareActive&&e.props.user.getStreamManager().addVideoElement(e.videoRef.current)}))}},{key:"componentDidUpdate",value:function(e){e&&this.videoRef&&this.props.user.getStreamManager().addVideoElement(this.videoRef.current)}},{key:"render",value:function(){return s.a.createElement("video",{autoPlay:!0,id:"video-"+this.props.user.getStreamManager().stream.streamId,ref:this.videoRef,muted:this.props.mutedSound})}}]),a}(n.Component)),K=a(84),J=a.n(K),G=a(83),Q=a.n(G),X=a(161),Y=a.n(X),Z=a(160),$=a.n(Z),ee=a(318),te=a(317),ae=a(319),ne=a(314),se=function(e){Object(T.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(I.a)(this,a),(n=t.call(this,e)).state={nickname:n.props.user.getNickname(),showForm:!1,mutedSound:!1,isFormValid:!0},n.handleChange=n.handleChange.bind(Object(M.a)(n)),n.handlePressKey=n.handlePressKey.bind(Object(M.a)(n)),n.toggleNicknameForm=n.toggleNicknameForm.bind(Object(M.a)(n)),n.toggleSound=n.toggleSound.bind(Object(M.a)(n)),n}return Object(F.a)(a,[{key:"handleChange",value:function(e){this.setState({nickname:e.target.value}),e.preventDefault()}},{key:"toggleNicknameForm",value:function(){this.props.user.isLocal()&&this.setState({showForm:!this.state.showForm})}},{key:"toggleSound",value:function(){this.setState({mutedSound:!this.state.mutedSound})}},{key:"handlePressKey",value:function(e){"Enter"===e.key&&(console.log(this.state.nickname),this.state.nickname.length>=3&&this.state.nickname.length<=20?(this.props.handleNickname(this.state.nickname),this.toggleNicknameForm(),this.setState({isFormValid:!0})):this.setState({isFormValid:!1}))}},{key:"render",value:function(){var e={width:this.props.camWidth};return s.a.createElement("div",{className:"OT_widget-container",style:e},s.a.createElement("div",{className:"pointer nickname"},this.state.showForm?s.a.createElement(ee.a,{id:"nicknameForm"},s.a.createElement(V.a,{color:"inherit",id:"closeButton",onClick:this.toggleNicknameForm},s.a.createElement(B.a,null)),s.a.createElement(ae.a,{htmlFor:"name-simple",id:"label"},"Nickname"),s.a.createElement(te.a,{color:"inherit",id:"input",value:this.state.nickname,onChange:this.handleChange,onKeyPress:this.handlePressKey,required:!0}),!this.state.isFormValid&&this.state.nickname.length<=3&&s.a.createElement(ne.a,{id:"name-error-text"},"Nickname is too short!"),!this.state.isFormValid&&this.state.nickname.length>=20&&s.a.createElement(ne.a,{id:"name-error-text"},"Nickname is too long!")):s.a.createElement("div",{onClick:this.toggleNicknameForm},s.a.createElement("span",{id:"nickname"},this.props.user.getNickname()),this.props.user.isLocal()&&s.a.createElement("span",{id:""}," (edit)"))),void 0!==this.props.user&&void 0!==this.props.user.getStreamManager()?s.a.createElement("div",{className:"streamComponent"},s.a.createElement(q,{user:this.props.user,mutedSound:this.state.mutedSound}),s.a.createElement("div",{id:"statusIcons"},this.props.user.isVideoActive()?null:s.a.createElement("div",{id:"camIcon"},s.a.createElement(Q.a,{id:"statusCam"})),this.props.user.isAudioActive()?null:s.a.createElement("div",{id:"micIcon"},s.a.createElement(J.a,{id:"statusMic"}))),s.a.createElement("div",null,!this.props.user.isLocal()&&s.a.createElement(V.a,{id:"volumeButton",onClick:this.toggleSound},this.state.mutedSound?s.a.createElement($.a,{color:"secondary"}):s.a.createElement(Y.a,null)))):null)}}]),a}(n.Component),ie=(a(249),a(46)),re=a.n(ie),oe=function(){function e(){Object(I.a)(this,e)}return Object(F.a)(e,[{key:"fixAspectRatio",value:function(e,t){var a=e.querySelector(".OT_root");if(a){var n=a.style.width;a.style.width=t+"px",a.style.width=n||""}}},{key:"positionElement",value:function(e,t,a,n,s,i){var r=this,o={left:t+"px",top:a+"px",width:n+"px",height:s+"px"};this.fixAspectRatio(e,n),i&&re.a?(re()(e).stop(),re()(e).animate(o,i.duration||200,i.easing||"swing",(function(){r.fixAspectRatio(e,n),i.complete&&i.complete.call(r)}))):re()(e).css(o),this.fixAspectRatio(e,n)}},{key:"getVideoRatio",value:function(e){if(!e)return 3/4;var t=e.querySelector("video");return t&&t.videoHeight&&t.videoWidth?t.videoHeight/t.videoWidth:e.videoHeight&&e.videoWidth?e.videoHeight/e.videoWidth:3/4}},{key:"getCSSNumber",value:function(e,t){var a=re()(e).css(t);return a?parseInt(a,10):0}},{key:"cheapUUID",value:function(){return(1e8*Math.random()).toFixed(0)}},{key:"getHeight",value:function(e){var t=re()(e).css("height");return t?parseInt(t,10):0}},{key:"getWidth",value:function(e){var t=re()(e).css("width");return t?parseInt(t,10):0}},{key:"getBestDimensions",value:function(e,t,a,n,s,i){for(var r,o,c,l,u,m,d,h=1;h<=a;h++){var g=h,p=Math.ceil(a/g);(d=(m=Math.floor(s/p))/(u=Math.floor(n/g)))>t?m=u*(d=t):d<e&&(u=m/(d=e));var v=u*m*a;(void 0===r||v>r)&&(r=v,i=m,l=u,o=g,c=p)}return{maxArea:r,targetCols:o,targetRows:c,targetHeight:i,targetWidth:l,ratio:i/l}}},{key:"arrange",value:function(e,t,a,n,s,i,r,o,c){var l,u,m=e.length;if(i){var d=this.getVideoRatio(e.length>0?e[0]:null);u=this.getBestDimensions(d,d,m,t,a,l)}else u=this.getBestDimensions(r,o,m,t,a,l);for(var h,g=0,p=0,v=[],f=0;f<e.length;f++){f%u.targetCols===0&&(h={children:[],width:0,height:0},v.push(h));var b=e[f];h.children.push(b);var E=u.targetWidth;l=u.targetHeight,i&&(E=l/this.getVideoRatio(b)),h.width+=E,h.height=l}for(var y=0,S=0,k=0;k<v.length;k++)(h=v[k]).width>t?(h.height=Math.floor(h.height*(t/h.width)),h.width=t):h.width<t&&(S+=1),y+=h.height;if(y<a&&S>0){var C=a-y;y=0;for(var N=0;N<v.length;N++){if((h=v[N]).width<t){var O=C/S;O/h.height>(t-h.width)/h.width&&(O=Math.floor((t-h.width)/h.width*h.height)),h.width+=Math.floor(O/h.height*h.width),h.height+=O,C-=O,S-=1}y+=h.height}}p=(a-y)/2;for(var w=0;w<v.length;w++){g=(t-(h=v[w]).width)/2;for(var x=0;x<h.children.length;x++){var j=h.children[x],R=u.targetWidth;l=h.height,i&&(R=Math.floor(l/this.getVideoRatio(j))),j.style.position="absolute";var A=R-this.getCSSNumber(j,"paddingLeft")-this.getCSSNumber(j,"paddingRight")-this.getCSSNumber(j,"marginLeft")-this.getCSSNumber(j,"marginRight")-this.getCSSNumber(j,"borderLeft")-this.getCSSNumber(j,"borderRight"),I=l-this.getCSSNumber(j,"paddingTop")-this.getCSSNumber(j,"paddingBottom")-this.getCSSNumber(j,"marginTop")-this.getCSSNumber(j,"marginBottom")-this.getCSSNumber(j,"borderTop")-this.getCSSNumber(j,"borderBottom");this.positionElement(j,g+n,p+s,A,I,c),g+=R}p+=l}}},{key:"filterDisplayNone",value:function(e){return"none"!==e.style.display}},{key:"updateLayout",value:function(){if(null!==this.layoutContainer&&"none"!==this.layoutContainer.style.display){var e=this.layoutContainer.id;e||(e="OT_"+this.cheapUUID(),this.layoutContainer.id=e);var t,a,n=this.getHeight(this.layoutContainer)-this.getCSSNumber(this.layoutContainer,"borderTop")-this.getCSSNumber(this.layoutContainer,"borderBottom"),s=this.getWidth(this.layoutContainer)-this.getCSSNumber(this.layoutContainer,"borderLeft")-this.getCSSNumber(this.layoutContainer,"borderRight"),i=n/s,r=0,o=0,c=0,l=0,u=Array.prototype.filter.call(this.layoutContainer.querySelectorAll("#"+e+">."+this.opts.bigClass),this.filterDisplayNone),m=Array.prototype.filter.call(this.layoutContainer.querySelectorAll("#"+e+">*:not(."+this.opts.bigClass+")"),this.filterDisplayNone);if(u.length>0&&m.length>0)i>this.getVideoRatio(u[0])?(t=s,c=n-(o=a=Math.floor(n*this.opts.bigPercentage))):(a=n,l=s-(r=t=Math.floor(s*this.opts.bigPercentage))),this.opts.bigFirst?(this.arrange(u,t,a,0,0,this.opts.bigFixedRatio,this.opts.bigMinRatio,this.opts.bigMaxRatio,this.opts.animate),this.arrange(m,s-r,n-o,r,o,this.opts.fixedRatio,this.opts.minRatio,this.opts.maxRatio,this.opts.animate)):(this.arrange(m,s-r,n-o,0,0,this.opts.fixedRatio,this.opts.minRatio,this.opts.maxRatio,this.opts.animate),this.arrange(u,t,a,l,c,this.opts.bigFixedRatio,this.opts.bigMinRatio,this.opts.bigMaxRatio,this.opts.animate));else u.length>0&&0===m.length?this.arrange(u,s,n,0,0,this.opts.bigFixedRatio,this.opts.bigMinRatio,this.opts.bigMaxRatio,this.opts.animate):this.arrange(m,s-r,n-o,r,o,this.opts.fixedRatio,this.opts.minRatio,this.opts.maxRatio,this.opts.animate)}}},{key:"initLayoutContainer",value:function(e,t){this.opts={maxRatio:null!=t.maxRatio?t.maxRatio:1.5,minRatio:null!=t.minRatio?t.minRatio:9/16,fixedRatio:null!=t.fixedRatio&&t.fixedRatio,animate:null!=t.animate&&t.animate,bigClass:null!=t.bigClass?t.bigClass:"OT_big",bigPercentage:null!=t.bigPercentage?t.bigPercentage:.8,bigFixedRatio:null!=t.bigFixedRatio&&t.bigFixedRatio,bigMaxRatio:null!=t.bigMaxRatio?t.bigMaxRatio:1.5,bigMinRatio:null!=t.bigMinRatio?t.bigMinRatio:9/16,bigFirst:null==t.bigFirst||t.bigFirst},this.layoutContainer="string"===typeof e?re()(e):e}},{key:"setLayoutOptions",value:function(e){this.opts=e}}]),e}(),ce=function(){function e(){Object(I.a)(this,e),this.connectionId="",this.audioActive=!0,this.videoActive=!0,this.screenShareActive=!1,this.nickname="",this.streamManager=null,this.type="local"}return Object(F.a)(e,[{key:"isAudioActive",value:function(){return this.audioActive}},{key:"isVideoActive",value:function(){return this.videoActive}},{key:"isScreenShareActive",value:function(){return this.screenShareActive}},{key:"getConnectionId",value:function(){return this.connectionId}},{key:"getNickname",value:function(){return this.nickname}},{key:"getStreamManager",value:function(){return this.streamManager}},{key:"isLocal",value:function(){return"local"===this.type}},{key:"isRemote",value:function(){return!this.isLocal()}},{key:"setAudioActive",value:function(e){this.audioActive=e}},{key:"setVideoActive",value:function(e){this.videoActive=e}},{key:"setScreenShareActive",value:function(e){this.screenShareActive=e}},{key:"setStreamManager",value:function(e){this.streamManager=e}},{key:"setConnectionId",value:function(e){this.connectionId=e}},{key:"setNickname",value:function(e){this.nickname=e}},{key:"setType",value:function(e){"local"===e|"remote"===e&&(this.type=e)}}]),e}(),le=(a(250),a(320)),ue=a(315),me=a(162),de=a.n(me),he=a(163),ge=a.n(he),pe=a(166),ve=a.n(pe),fe=a(165),be=a.n(fe),Ee=a(164),ye=a.n(Ee),Se=a(167),ke=a.n(Se),Ce=a(168),Ne=a.n(Ce);console.log("\ud234\ubc14 \ucef4\ud3ec\ub10c\ud2b8 \ub0b4\ubd80");var Oe=function(e){Object(T.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(I.a)(this,a),console.log("\ud234\ubc14 \ucef4\ud3ec\ub10c\ud2b8 \ub0b4\ubd80 \uc0dd\uc131\uc790"),n=t.call(this,e),console.log(n=t.call(this,e)),console.log(e),n.state={fullscreen:!1},n.camStatusChanged=n.camStatusChanged.bind(Object(M.a)(n)),n.micStatusChanged=n.micStatusChanged.bind(Object(M.a)(n)),n.toggleFullscreen=n.toggleFullscreen.bind(Object(M.a)(n)),n.switchCamera=n.switchCamera.bind(Object(M.a)(n)),n.leaveSession=n.leaveSession.bind(Object(M.a)(n)),n.toggleChat=n.toggleChat.bind(Object(M.a)(n)),n}return Object(F.a)(a,[{key:"micStatusChanged",value:function(){this.props.micStatusChanged()}},{key:"camStatusChanged",value:function(){this.props.camStatusChanged()}},{key:"toggleFullscreen",value:function(){this.setState({fullscreen:!this.state.fullscreen}),this.props.toggleFullscreen()}},{key:"switchCamera",value:function(){this.props.switchCamera()}},{key:"leaveSession",value:function(){this.props.leaveSession()}},{key:"toggleChat",value:function(){console.log("\ud1a0\uae00\ucc57. "),this.props.toggleChat()}},{key:"render",value:function(){var e=this.props.sessionId,t=this.props.user;return console.log("\uc5ec\uae30\ub3c4 \uc0dd\uc131\uc790 \ub4a4 \ub9e8 \ucc98\uc74c?"),s.a.createElement(le.a,{className:"toolbar",id:"header"},s.a.createElement(ue.a,{className:"toolbar"},s.a.createElement("div",{id:"navSessionInfo"},console.log("\ud234\ubc14 \uc694\uc18c\uc548\uc5d0 div"),this.props.sessionId&&s.a.createElement("div",{id:"titleContent"},s.a.createElement("span",{id:"session-title"},e))),s.a.createElement("div",{className:"buttonsContent"},s.a.createElement(V.a,{color:"inherit",className:"navButton",id:"navMicButton",onClick:this.micStatusChanged},void 0!==t&&t.isAudioActive()?s.a.createElement(de.a,null):s.a.createElement(J.a,{color:"secondary"})),s.a.createElement(V.a,{color:"inherit",className:"navButton",id:"navCamButton",onClick:this.camStatusChanged},void 0!==t&&t.isVideoActive()?s.a.createElement(ge.a,null):s.a.createElement(Q.a,{color:"secondary"})),s.a.createElement(V.a,{color:"inherit",className:"navButton",onClick:this.switchCamera},s.a.createElement(ye.a,null)),s.a.createElement(V.a,{color:"inherit",className:"navButton",onClick:this.toggleFullscreen},void 0!==t&&this.state.fullscreen?s.a.createElement(be.a,null):s.a.createElement(ve.a,null)),s.a.createElement(o.b,{to:"/"},s.a.createElement(V.a,{color:"secondary",className:"navButton",onClick:this.leaveSession,id:"navLeaveButton"},s.a.createElement(ke.a,null))),s.a.createElement(V.a,{color:"inherit",onClick:this.toggleChat,id:"navChatButton"},this.props.showNotification&&s.a.createElement("div",{id:"point",className:""}),s.a.createElement(W.a,{title:"Chat"},s.a.createElement(Ne.a,null))))))}}]),a}(n.Component);var we=function(e){return console.log(e),s.a.createElement("div",null,"waiting")};var xe=function(e){return s.a.createElement("div",null,s.a.createElement("h1",null,"\ud604\uc7ac \uc811\uc18d \uc778\uc6d0\uc774 \ub108\ubb34 \ub9ce\uc2b5\ub2c8\ub2e4."),s.a.createElement("p",null,"\uc0ac\uc6a9\ud654\uba74\uc744 \ud558\ub098\ub9cc \ucf1c \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."),s.a.createElement("p",null,"\uc0c8\ub85c\uace0\uce68 \ud6c4 \uc7ac\uc774\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4."))},je=new ce,Re=(n.Component,new ce);console.log("0");var Ae=function(e){Object(T.a)(a,e);var t=Object(U.a)(a);function a(e){var n;Object(I.a)(this,a),(n=t.call(this,e)).hasBeenUpdated=!1,n.layout=new oe,console.log("1"),console.log(n.layout);var s=n.props.sessionName?n.props.sessionName:"SessionA";console.log("sessionName : ".concat(s));var i=n.props.user?n.props.user:"OpenVidu_User"+Math.floor(100*Math.random());return n.remotes=[],n.localUserAccessAllowed=!1,n.state={mySessionId:s,myUserName:i,session:void 0,localUser:void 0,subscribers:[],chatDisplay:"none",currentVideoDevice:void 0,relode:0},n.joinSession=n.joinSession.bind(Object(M.a)(n)),n.leaveSession=n.leaveSession.bind(Object(M.a)(n)),n.onbeforeunload=n.onbeforeunload.bind(Object(M.a)(n)),n.updateLayout=n.updateLayout.bind(Object(M.a)(n)),n.camStatusChanged=n.camStatusChanged.bind(Object(M.a)(n)),n.micStatusChanged=n.micStatusChanged.bind(Object(M.a)(n)),n.nicknameChanged=n.nicknameChanged.bind(Object(M.a)(n)),n.toggleFullscreen=n.toggleFullscreen.bind(Object(M.a)(n)),n.switchCamera=n.switchCamera.bind(Object(M.a)(n)),n.closeDialogExtension=n.closeDialogExtension.bind(Object(M.a)(n)),n.toggleChat=n.toggleChat.bind(Object(M.a)(n)),n.checkNotification=n.checkNotification.bind(Object(M.a)(n)),n.checkSize=n.checkSize.bind(Object(M.a)(n)),n}return Object(F.a)(a,[{key:"componentDidMount",value:function(){console.log("3");this.layout.initLayoutContainer(document.getElementById("layout"),{maxRatio:1.5,minRatio:9/16,fixedRatio:!1,bigClass:"OV_big",bigPercentage:.8,bigFixedRatio:!1,bigMaxRatio:1.5,bigMinRatio:9/16,bigFirst:!0,animate:!0}),window.addEventListener("beforeunload",this.onbeforeunload),window.addEventListener("resize",this.updateLayout),window.addEventListener("resize",this.checkSize),this.joinSession()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.onbeforeunload),window.removeEventListener("resize",this.updateLayout),window.removeEventListener("resize",this.checkSize),this.leaveSession()}},{key:"onbeforeunload",value:function(e){this.leaveSession()}},{key:"joinSession",value:function(){var e=this;this.OV=new D.OpenVidu,this.setState({session:this.OV.initSession()},Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.subscribeToStreamCreated(),t.next=3,e.connectToSession();case 3:case"end":return t.stop()}}),t)}))))}},{key:"connectToSession",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("this.props.token : ".concat(this.props.token)),void 0===this.props.token){e.next=6;break}console.log("token received: ",this.props.token),this.connect(this.props.token),e.next=19;break;case 6:return e.prev=6,e.next=9,this.getToken();case 9:t=e.sent,console.log(t),this.connect(t),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(6),console.error("There was an error getting the token:",e.t0.code,e.t0.message),this.props.error&&this.props.error({error:e.t0.error,messgae:e.t0.message,code:e.t0.code,status:e.t0.status}),alert("There was an error getting the token:",e.t0.message);case 19:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"connect",value:function(e){var t=this;this.state.session.connect(e,{clientData:this.state.myUserName}).then((function(){t.connectWebCam()})).catch((function(e){t.props.error&&t.props.error({error:e.error,messgae:e.message,code:e.code,status:e.status}),alert("There was an error connecting to the session:",e.message),console.log("There was an error connecting to the session:",e.code,e.message)}))}},{key:"connectWebCam",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.OV.getUserMedia({audioSource:void 0,videoSource:void 0});case 2:return e.next=4,this.OV.getDevices();case 4:t=e.sent,a=t.filter((function(e){return"videoinput"===e.kind})),console.log("\uce74\uba54\ub77c \uc5f0\uacb0"),n=this.OV.initPublisher(void 0,{audioSource:void 0,videoSource:a[0].deviceId,publishAudio:Re.isAudioActive(),publishVideo:Re.isVideoActive(),resolution:"640x480",frameRate:30,insertMode:"APPEND"}),this.state.session.capabilities.publish&&n.on("accessAllowed",(function(){s.state.session.publish(n).then((function(){s.updateSubscribers(),s.localUserAccessAllowed=!0,s.props.joinSession&&s.props.joinSession()}))})),Re.setNickname(this.state.myUserName),Re.setConnectionId(this.state.session.connection.connectionId),Re.setStreamManager(n),this.subscribeToUserChanged(),this.subscribeToStreamDestroyed(),this.setState({currentVideoDevice:a[0],localUser:Re},(function(){s.state.localUser.getStreamManager().on("streamPlaying",(function(e){s.updateLayout(),n.videos[0].video.parentElement.classList.remove("custom-class")}))}));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSubscribers",value:function(){var e=this,t=this.remotes;this.setState({subscribers:t},(function(){e.state.localUser&&e.sendSignalUserChanged({isAudioActive:e.state.localUser.isAudioActive(),isVideoActive:e.state.localUser.isVideoActive(),nickname:e.state.localUser.getNickname()}),e.updateLayout()}))}},{key:"leaveSession",value:function(){var e=this.state.session;e&&e.disconnect(),this.OV=null,this.setState({session:void 0,subscribers:[],mySessionId:"SessionA",myUserName:"OpenVidu_User"+Math.floor(100*Math.random()),localUser:void 0}),this.props.leaveSession&&this.props.leaveSession()}},{key:"camStatusChanged",value:function(){Re.setVideoActive(!Re.isVideoActive()),Re.getStreamManager().publishVideo(Re.isVideoActive()),this.sendSignalUserChanged({isVideoActive:Re.isVideoActive()}),this.setState({localUser:Re})}},{key:"micStatusChanged",value:function(){Re.setAudioActive(!Re.isAudioActive()),Re.getStreamManager().publishAudio(Re.isAudioActive()),this.sendSignalUserChanged({isAudioActive:Re.isAudioActive()}),this.setState({localUser:Re})}},{key:"nicknameChanged",value:function(e){var t=this.state.localUser;t.setNickname(e),this.setState({localUser:t}),this.sendSignalUserChanged({nickname:this.state.localUser.getNickname()})}},{key:"deleteSubscriber",value:function(e){var t=this.state.subscribers,a=t.filter((function(t){return t.getStreamManager().stream===e}))[0],n=t.indexOf(a,0);n>-1&&(t.splice(n,1),this.setState({subscribers:t}))}},{key:"subscribeToStreamCreated",value:function(){var e=this;this.state.session.on("streamCreated",(function(t){var a=e.state.session.subscribe(t.stream,void 0);a.on("streamPlaying",(function(e){a.videos[0].video.parentElement.classList.remove("custom-class")}));var n=new ce;n.setStreamManager(a),n.setConnectionId(t.stream.connection.connectionId),n.setType("remote");var s=t.stream.connection.data.split("%")[0];n.setNickname(JSON.parse(s).clientData),e.remotes.push(n),e.localUserAccessAllowed&&e.updateSubscribers()}))}},{key:"subscribeToStreamDestroyed",value:function(){var e=this;this.state.session.on("streamDestroyed",(function(t){e.deleteSubscriber(t.stream),t.preventDefault(),e.updateLayout()}))}},{key:"subscribeToUserChanged",value:function(){var e=this;this.state.session.on("signal:userChanged",(function(t){var a=e.state.subscribers;a.forEach((function(e){if(e.getConnectionId()===t.from.connectionId){var a=JSON.parse(t.data);console.log("EVENTO REMOTE: ",t.data),void 0!==a.isAudioActive&&e.setAudioActive(a.isAudioActive),void 0!==a.isVideoActive&&e.setVideoActive(a.isVideoActive),void 0!==a.nickname&&e.setNickname(a.nickname)}})),e.setState({subscribers:a})}))}},{key:"updateLayout",value:function(){var e=this;setTimeout((function(){e.layout.updateLayout()}),20)}},{key:"sendSignalUserChanged",value:function(e){var t={data:JSON.stringify(e),type:"userChanged"};this.state.session.signal(t)}},{key:"toggleFullscreen",value:function(){var e=window.document,t=e.getElementById("container");e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}},{key:"switchCamera",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,s,i=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.OV.getDevices();case 3:if(t=e.sent,!((a=t.filter((function(e){return"videoinput"===e.kind})))&&a.length>1)){e.next=15;break}if(!((n=a.filter((function(e){return e.deviceId!==i.state.currentVideoDevice.deviceId}))).length>0)){e.next=15;break}return s=this.OV.initPublisher(void 0,{audioSource:void 0,videoSource:n[0].deviceId,publishAudio:Re.isAudioActive(),publishVideo:Re.isVideoActive(),mirror:!0}),e.next=11,this.state.session.unpublish(this.state.localUser.getStreamManager());case 11:return e.next=13,this.state.session.publish(s);case 13:this.state.localUser.setStreamManager(s),this.setState({currentVideoDevice:n,localUser:Re});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"closeDialogExtension",value:function(){this.setState({showExtensionDialog:!1})}},{key:"toggleChat",value:function(e){var t=e;void 0===t&&(t="none"===this.state.chatDisplay?"block":"none"),"block"===t?this.setState({chatDisplay:t,messageReceived:!1}):(console.log("chat",t),this.setState({chatDisplay:t})),this.updateLayout()}},{key:"checkNotification",value:function(e){this.setState({messageReceived:"none"===this.state.chatDisplay})}},{key:"checkSize",value:function(){null!==document.getElementById("layout")&&(document.getElementById("layout").offsetWidth<=700&&!this.hasBeenUpdated&&(this.toggleChat("none"),this.hasBeenUpdated=!0),document.getElementById("layout").offsetWidth>700&&this.hasBeenUpdated&&(this.hasBeenUpdated=!1))}},{key:"render",value:function(){var e=this.state.mySessionId;console.log("2"),console.log(e);var t=this.state.localUser,a=this.state.chatDisplay,n=this.state.subscribers;return 0===n.length?s.a.createElement(we,null):1===n.length?s.a.createElement("div",{className:"container",id:"container"},console.log("\ud234\ubc14 \ucef4\ud3ec\ub10c\ud2b8"),s.a.createElement(Oe,{sessionId:e,user:t,showNotification:this.state.messageReceived,camStatusChanged:this.camStatusChanged,micStatusChanged:this.micStatusChanged,toggleFullscreen:this.toggleFullscreen,switchCamera:this.switchCamera,leaveSession:this.leaveSession,toggleChat:this.toggleChat}),console.log("\uc2a4\ud2b8\ub9ac\ubc0d \ud654\uba74"),s.a.createElement("div",{id:"layout",className:"bounds"},console.log("\ub2e4\ub978 \uc774\uc6a9\uc790 \ud654\uba74"),this.state.subscribers.map((function(e,t){return s.a.createElement("div",{key:t,className:"OT_root OT_publisher custom-class notMyCam",id:"remoteUsers"},s.a.createElement(se,{user:e,streamId:e.streamManager.stream.streamId}))})),console.log("\uc790\uae30 \ud654\uba74"),"none"===a?void 0!==t&&void 0!==t.getStreamManager()&&s.a.createElement("div",{className:"OT_root OT_publisher custom-class",id:"localUser"},console.log(document.getElementById(t)),s.a.createElement(se,{user:t,handleNickname:this.nicknameChanged})):void 0!==t&&void 0!==t.getStreamManager()&&s.a.createElement("div",{className:"OT_root OT_publisher custom-class myCam",id:"localUser"},console.log(document.getElementById(t)),s.a.createElement(se,{user:t,handleNickname:this.nicknameChanged,camWidth:"18%"}),s.a.createElement(H,{user:t,chatDisplay:this.state.chatDisplay,close:this.toggleChat,messageReceived:this.checkNotification})))):s.a.createElement(xe,null)}},{key:"getToken",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getToken"),e.next=3,this.createSession(this.state.mySessionId);case 3:return t=e.sent,console.log("sessionId : ".concat(t)),e.next=7,this.createToken(t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createSession",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("createSession"),e.next=3,k.a.post("api/sessions",{customSessionId:t},{headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,console.log("createSession response : ".concat(a.data)),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createToken",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("createToken"),e.next=3,k.a.post("api/sessions/"+t+"/connections",{},{headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,console.log("createToken response : ".concat(a.data)),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),Ie=a(24),Fe=a(173),Me=a(41),Te=a(54),Ue=a.n(Te),De=a(92),Ve=a.n(De),Le=function(e){var t=Object(De.useSpeechRecognition)(),a=t.transcript,i=t.listening,r=t.resetTranscript,o=t.browserSupportsSpeechRecognition;return Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,k.a.get("".concat(e.BASE_URL,"/recording/analyze?speech=").concat(a)).then((function(t){e.onSpeech(t.data.trimEnd().split(" "))})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[i]),o?s.a.createElement("div",null,s.a.createElement("p",null,"Microphone: ",i?"on":"off"),s.a.createElement("button",{onClick:Ve.a.startListening},"Start"),s.a.createElement("button",{onClick:Ve.a.stopListening},"Stop"),s.a.createElement("button",{onClick:r},"Reset"),s.a.createElement("p",null,a)):alert("Browser doesn't support speech recognition.")},_e=a(170),Be=a.n(_e),Pe="",ze="https://d204.s3.ap-northeast-1.amazonaws.com/\uc218\uc5b4\uc560\ub2c8\uba54\uc774\uc158/",We=function(){var e,t,a=Object(n.useRef)(),i=Object(n.useRef)(),r=Object(n.useRef)(0),o=Object(n.useRef)(),c=Object(n.useRef)(),l=Object(n.useRef)(),h=Object(n.useRef)(),g=Object(n.useRef)(),p=Object(n.useRef)(),v=Object(n.useRef)(0),f=Object(n.useRef)(),b=Object(n.useRef)([]),E=Object(n.useRef)(0),y=Object(n.useRef)([]),S=Object(n.useState)(0),k=Object(d.a)(S,2),C=(k[0],k[1]),N=Object(n.useState)(),O=Object(d.a)(N,2),w=O[0],x=O[1],j=Object(n.useState)("".concat(ze,"\uac00\ub2e4.mp4")),R=Object(d.a)(j,2),A=R[0],I=R[1],F=function(){var e=o.current.offsetWidth,t=b.current;t[0].style="width: ".concat(parseInt(.16*e+.5),"px;\n    height: ").concat(parseInt(.16*e+.5),"px;\n    left: ").concat(parseInt(e/2-(.08*e>65?65:.08*e)+.5),"px;");var a=t[0].style.width,n=t[0].style.left;t[1].style="width: ".concat(parseInt(a.substring(0,a.length-2))-10,"px;\n    height: ").concat(parseInt(a.substring(0,a.length-2))-10,"px;\n    left: ").concat(parseInt(n.substring(0,n.length-2))+5,"px;")},M=function(){F()},T=function(){return{width:o.current.offsetWidth?o.current.offsetWidth:"0px",height:o.current.offsetHeight?o.current.offsetHeight:"0px"}};function U(){return D.apply(this,arguments)}function D(){return(D=Object(m.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.b(o.current).withFaceLandmarks().withFaceDescriptors();case 2:a=e.sent,n=Me.f(a,T()),t.getContext("2d").clearRect(0,0,t.width,t.height),n.forEach((function(e){var a=e.detection.box;new Me.c.DrawBox(a,{label:"Face"}).draw(t);var n=b.current;parseInt(n[0].style.width.substring(0,n[0].style.width.length-2)),parseInt(n[0].style.left.substring(0,n[0].style.left.length-2));clearInterval(f.current),V()}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){v.current=0,C(v.current),L()}Object(n.useEffect)((function(){return Pe="https://sueo.shop",l.current=Fe.a.connect(Pe,{cors:{origin:"*"}}),l.current.on("connect",(function(){console.log("Connected...!",l.connected)})),l.current.on("response_back",(function(e){E.current++,console.log("data",e),"failed"===e?(x(i.current+"\n\ub2e8\uc5b4 \uc778\uc2dd\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \ub3d9\uc791\ud574\uc8fc\uc138\uc694."),E.current--,V()):(a.current.value="<p style = 'margin-top : -100px; text-align:center;font-size:30px;color:#ffffff'> \ub2e4\uc74c \ub2e8\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.</p>",p.current=i.current,i.current+=" "+e,x(i.current),V())})),l.current.on("delete_back",(function(e){v.current=0,E.current--,i.current=p.current,document.getElementById("result").value=e+"\n"+i.current,V()})),l.current.on("result",(function(e){E.current++,i.current="",x(e),E.current=0})),g.current=h.current.getContext("2d"),F(),function(e){e&&e.preventDefault();0===r.current?(r.current=1,Promise.all([Me.e.tinyFaceDetector.loadFromUri("/models"),Me.e.faceLandmark68Net.loadFromUri("/models"),Me.e.faceRecognitionNet.loadFromUri("/models"),Me.e.faceExpressionNet.loadFromUri("/models"),Me.e.ssdMobilenetv1.loadFromUri("/models")]).then((function(){!function(e){e&&e.preventDefault();navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){o.current.srcObject=e,o.current.play(),x(" \uc0ac\uac01\ud615\uc5d0 \uc5bc\uad74\uc744 \ub9de\ucdb0\uc8fc\uc138\uc694. ")})).catch((function(e){}))}(e)})),o.current.addEventListener("play",(function(){t=Me.a(o.current),Me.d(t,T()),f.current=setInterval(U,1e3/30)}))):(x(" \ubc88\uc5ed\uc744 \uc2dc\uc791\ud569\ub2c8\ub2e4. "),V())}(),window.addEventListener("resize",M),function(){window.removeEventListener("resize",M),l.current.disconnect(),clearInterval(f),clearInterval(e)}}),[]);var L=function t(){e||(console.log("detectionInterval"),e=setInterval(t,300)),function(){var e=o.current.width,t=o.current.height,a=o.current;g.current.drawImage(a,0,0,e,t);var n=_(a);g.current.clearRect(0,0,e,t),l.current.emit("image",n),v.current++,C(v.current)}()};var _=function(e){var t=document.createElement("canvas");return t.width=640,t.height=480,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t.toDataURL("image/jpeg",.5)};return s.a.createElement(s.a.Fragment,null,s.a.createElement("meta",{charSet:"UTF-8"}),s.a.createElement("title",null,"Document"),s.a.createElement("div",{className:Ue.a.ex_layout},s.a.createElement("div",{className:"gnb"},"\uc218\uc5b4 \ubc88\uc5ed\uae30",s.a.createElement("div",{className:"item last"},s.a.createElement("input",{type:"button",onClick:function(t){t.preventDefault(),l.current.emit("image","delete"),clearInterval(e)},className:"deleteButton",value:"\ub2e8\uc5b4\uc0ad\uc81c"}),s.a.createElement(Le,{onSpeech:function(e){var t;(t=y.current).push.apply(t,Object(Ie.a)(e)),console.log(y.current),y.current.length>0&&(I("".concat(ze+y.current.shift(),".mp4")),c.current.playing=!0)},BASE_URL:Pe}))),s.a.createElement("div",{className:"main"},s.a.createElement("div",{id:Ue.a.container},s.a.createElement("video",{className:Ue.a.video,playsInline:"",width:640,id:"videoElement",ref:o}),s.a.createElement(Be.a,{className:Ue.a.video,playing:!0,muted:!0,controls:!1,onEnded:function(){return e&&e.preventDefault(),console.log("videoEnded, next Play ".concat(y.current)),void(y.current.length>0&&(I("".concat(ze+y.current.shift(),".mp4")),c.current.playing=!0));var e},url:A,ref:c}),s.a.createElement("canvas",{id:"canvas",width:"0",ref:h}),s.a.createElement("div",{id:"jb-text",ref:a}),s.a.createElement("div",{className:Ue.a.outline,id:"boxes",ref:function(e){return b.current[0]=e}}),s.a.createElement("div",{className:Ue.a.inner,id:"boxes",ref:function(e){return b.current[1]=e}}))),s.a.createElement("div",{className:"footer"},s.a.createElement("textarea",{id:"result",defaultValue:w}))))};var He=function(){var e=Object(g.c)((function(e){return e.user.value}));console.log(e);var t=Object(c.m)(),a=Object(g.b)();return s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){a(y()),t("/login")}},"\ub85c\uadf8\uc544\uc6c3"),s.a.createElement("h1",null,"Profile Page"),s.a.createElement("p",null," id : ",e.userId.id),s.a.createElement("p",null," pass : ",e.userPass.pass),s.a.createElement("p",null," name : ",e.userName.username," "),s.a.createElement("p",null," email : ",e.userEmail.useremail," "),s.a.createElement("p",null," isActive : ",e.userIsActive.userisactive," "))};var qe=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(o.a,null,s.a.createElement(c.c,null,s.a.createElement(c.a,{path:"/",element:s.a.createElement(A,null)}),s.a.createElement(c.a,{path:"/login",element:s.a.createElement(C,null)}),s.a.createElement(c.a,{path:"/profile",element:s.a.createElement(He,null)}),s.a.createElement(c.a,{path:"/findId",element:s.a.createElement(N,null)}),s.a.createElement(c.a,{path:"/findPass",element:s.a.createElement(O,null)}),s.a.createElement(c.a,{path:"/cam",exact:!0,element:s.a.createElement(Ae,null)}),s.a.createElement(c.a,{path:"/temporary",exact:!0,element:s.a.createElement(we,null)}),s.a.createElement(c.a,{path:"/aiTranslate",element:s.a.createElement(We,null)}))))},Ke=a(171),Je=a.n(Ke),Ge=a(88),Qe=a(26),Xe=Object(Qe.b)({user:f.reducer}),Ye={key:"root",storage:Je.a,whitelist:["user"]},Ze=Object(Ge.a)(Ye,Xe),$e=Object(p.a)({reducer:Ze}),et=a(172),tt=Object(Ge.b)($e);r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(g.a,{store:$e},s.a.createElement(et.a,{loading:null,persistor:tt},s.a.createElement(qe,null)))),document.getElementById("root"))},54:function(e,t,a){e.exports={ex_layout:"AITranslate_ex_layout__2LH-_",main:"AITranslate_main__1xfrI",container:"AITranslate_container__1ph3D",outline:"AITranslate_outline__3sgyH",inner:"AITranslate_inner__9mRqv",video:"AITranslate_video__1bHs9",count_box:"AITranslate_count_box__2FLsh"}}},[[179,14,15]]]);
//# sourceMappingURL=main.88807f73.chunk.js.map